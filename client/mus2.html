<head>
    <title>Mus2</title>
</head>

<body>

{{> score_info_form}}

<div class="modal fade" tabindex="-1" role="form" id="signin_form">
{{> atForm}}
</div>
<header class="container">{{> hello}}</header>
<main class="container">
    <div class="row">
        <div class="btn-toolbar" role="toolbar" aria-label="Play Toolbar">
            {{> play_toolbar}}
        </div>
    </div>
    <div class="row">
        <div class="col-xs-12 col-md-3">
            {{> music_toolbar}}
        </div>
        <div class="col-xs-12 col-md-9">
            <div class="row">
                {{> sheet_head}}
            </div>
            {{> sheet_canvas}}
        </div>
    </div>
</main>
<footer class="container"></footer>
</body>

<template name="hello">
    <nav class="navbar navbar-default navbar-fixed-top">
        <div class="container-fluid">
            <div class="collapse navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>{{> atNavButton}}</li>
                </ul>
            </div>
        </div>
    </nav>
    <h4>Welcome to Mus2 {{username}}!</h4>
    <button>Click Me</button>
    <p>You've pressed the button {{counter}} times.</p>
</template>

<template name="play_toolbar">
    {{#each group }}
        <div class="btn-group {{class}}" role="group" aria-label="{{name}}">
            {{#each items}}
                {{#if ifProgressBar class}}
                    {{> progress_bar}}
                {{else}}
                    <button class="btn btn-default {{class}}" title="{{name}}"><a class="fa fa-{{class}}"></a></button>
                {{/if}}
            {{/each}}
        </div>
    {{/each}}
</template>

<template name="music_toolbar">
    <div class="col-xs-12 col-md-6">
        <div>{{> symbols_bar}}</div>
        <div>{{> times_bar}}</div>
        <div>{{> dots_bar}}</div>
        <div>{{> numbers_bar}}</div>
    </div>
    <div class="col-xs-12 col-md-6">
        {{> accidentals_bar}}
    </div>
</template>

<template name="sheet_head">

</template>

<template name="sheet_canvas">
    <canvas width="850" height="1100" id="sheet"></canvas>
</template>

<template name="progress_bar">
    <div class="progress {{class}}">
        <div class="progress-bar progress-bar-success progress-bar-striped active" role="progressbar"
             aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="width: 40%">
            <span class="sr-only">40% Complete (success)</span>
        </div>
    </div>
</template>

<template name="symbols_bar">

</template>

<template name="times_bar">

</template>

<template name="dots_bar">

</template>

<template name="numbers_bar">

</template>

<template name="accidentals_bar">
    {{#each accidents}}
        <span>{{accidents}}</span>
    {{/each}}
</template>

<template name="score_info_form">
    <div class="modal fade" tabindex="-1" role="form" id="score_edit_form">
        <div class="modal-dialog">
            <div class="modal-content">
                <form class="form-horizontal js-edit-score-info">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                                aria-hidden="true">&times;</span></button>
                        <h4 class="modal-title">Edit: {{title}}</h4>
                    </div>
                    <div class="modal-body">
                        <div class="form-group">
                            <label class="col-xs-2 control-label">Title</label>
                            <div class="col-xs-10">
                                <input type="text" class="form-control" placeholder="Title" name="score_tit" required>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-xs-2 control-label">Subtitle</label>
                            <div class="col-xs-10">
                                <input type="text" class="form-control" placeholder="Subtitle" name="score_subt">
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-xs-2 control-label">Composer</label>
                            <div class="col-xs-10">
                                <input type="text" class="form-control" placeholder="Composer" name="score_comp"
                                       required>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-xs-2 control-label">Lyricist</label>
                            <div class="col-xs-10">
                                <input type="text" class="form-control" placeholder="Lyricist" name="score_lyr">
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-xs-2 control-label">Author</label>
                            <div class="col-xs-10">
                                <input type="text" class="form-control" placeholder="Author" name="score_ath"
                                       value="{{getAuthor author}}" required>
                                <!-- TODO: Obviously this doesn't works because score haven't author, is a new score, so, if score is new, get the currents user's usermane-->
                                <!-- TODO: Put and if condition: if new or non now saved score, put currend session user ide instead author, else, put author-->
                            </div>
                        </div>


                        <div class="form-group">
                            <label class="col-xs-2 control-label">Description</label>
                            <div class="col-xs-10">
                                <textarea class="form-control" rows="3" name="score_des"></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        <button type="submit" class="btn btn-primary">Save changes</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</template>